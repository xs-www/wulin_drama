# æ™ºèƒ½ä½“ä¿®æ”¹å·²ç”Ÿæˆå†…å®¹åŠŸèƒ½ - å®ç°æ€»ç»“

## é—®é¢˜é™ˆè¿°

**é—®é¢˜**: æ™ºèƒ½ä½“ä»»åŠ¡èƒ½å¦è®©å…¶ä¿®æ”¹å·²ç”Ÿæˆçš„å†…å®¹ï¼Ÿ

**ç­”æ¡ˆ**: âœ… æ˜¯çš„ï¼æœ¬PRå®Œæ•´å®ç°äº†è¿™ä¸€åŠŸèƒ½ã€‚

## è§£å†³æ–¹æ¡ˆ

æˆ‘ä»¬å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„**å†…å®¹ç®¡ç†ç³»ç»Ÿ**ï¼Œå…è®¸æ™ºèƒ½ä½“å’Œç”¨æˆ·ä¿®æ”¹å·²ç”Ÿæˆçš„å„ç§å†…å®¹ï¼ŒåŒ…æ‹¬ï¼š

### 1. æ—¥å¿—ç®¡ç† ğŸ“

**å·²ç”Ÿæˆçš„å†…å®¹**: æˆ˜æ–—æ—¥å¿—æ–‡ä»¶ï¼ˆ`logs/game_log_*.txt`ï¼‰

**å¯ä¿®æ”¹æ“ä½œ**:
- æŸ¥çœ‹å’Œè¿‡æ»¤æ—¥å¿—å†…å®¹
- åˆ é™¤ç‰¹å®šè¡Œ
- æ›¿æ¢æ–‡æœ¬å†…å®¹
- æŒ‰æ—¶é—´ã€ç±»å‹ã€å…³é”®è¯è¿‡æ»¤

**ç¤ºä¾‹**:
```bash
# æŸ¥çœ‹æ—¥å¿—
python content_editor.py logs view game_log_2025-12-30.txt --keyword "defeated"

# ä¿®æ”¹æ—¥å¿—ï¼šåˆ é™¤åŒ…å«ç‰¹å®šæ–‡æœ¬çš„è¡Œ
python content_editor.py logs modify game_log_2025-12-30.txt delete_lines --keyword "Round 1"

# ä¿®æ”¹æ—¥å¿—ï¼šæ›¿æ¢æ–‡æœ¬
python content_editor.py logs modify game_log_2025-12-30.txt replace --old-text "Ch1" --new-text "Hero1"
```

### 2. è§’è‰²é…ç½®ç®¡ç† ğŸ‘¤

**å·²ç”Ÿæˆçš„å†…å®¹**: è§’è‰²é…ç½®æ–‡ä»¶ï¼ˆ`character_config.json`ï¼‰

**å¯ä¿®æ”¹æ“ä½œ**:
- æŸ¥çœ‹è§’è‰²è¯¦ç»†ä¿¡æ¯
- ä¿®æ”¹è§’è‰²å±æ€§ï¼ˆæ”»å‡»ã€ç”Ÿå‘½ã€é€Ÿåº¦ç­‰ï¼‰
- æ·»åŠ æ–°è§’è‰²
- åˆ é™¤è§’è‰²
- æ‰¹é‡ä¿®æ”¹å¤šä¸ªè§’è‰²

**ç¤ºä¾‹**:
```bash
# æŸ¥çœ‹è§’è‰²
python content_editor.py character view 0002

# ä¿®æ”¹è§’è‰²å±æ€§
python content_editor.py character modify 0002 --attack 15 --health 50

# æ·»åŠ æ–°è§’è‰²
python content_editor.py character add 9999 --name "æ–°è§’è‰²" --attack 20 --health 100

# æ‰¹é‡ä¿®æ”¹ï¼ˆPython APIï¼‰
from content_manager import CharacterConfigManager
manager = CharacterConfigManager()
modifications = {
    '0002': {'attack_power': 15},
    '0003': {'attack_power': 18}
}
manager.batch_modify(modifications)
```

### 3. æˆ˜æ–—çŠ¶æ€ç®¡ç† âš”ï¸

**å·²ç”Ÿæˆçš„å†…å®¹**: æˆ˜æ–—çŠ¶æ€å¿«ç…§ï¼ˆ`battle_states/battle_*.json`ï¼‰

**å¯ä¿®æ”¹æ“ä½œ**:
- ä¿å­˜æˆ˜æ–—çŠ¶æ€
- æŸ¥çœ‹å†å²æˆ˜æ–—
- ä¿®æ”¹æˆ˜æ–—æ•°æ®
- åˆ é™¤æˆ˜æ–—è®°å½•

**ç¤ºä¾‹**:
```bash
# åˆ—å‡ºæ‰€æœ‰ä¿å­˜çš„æˆ˜æ–—
python content_editor.py battle list

# æŸ¥çœ‹æˆ˜æ–—è¯¦æƒ…
python content_editor.py battle view battle_test_20260104_101249.json

# åœ¨æ¨¡æ‹Ÿå™¨ä¸­å¯ç”¨æˆ˜æ–—ä¿å­˜
from simulator import attackSimulator
battle_history = attackSimulator(game_board, save_state=True, battle_id="my_battle")
```

## æ ¸å¿ƒå®ç°

### æ–‡ä»¶ç»“æ„

```
è‡ªèµ°æ£‹ç­–åˆ’/pyç°ç›’/
â”œâ”€â”€ content_manager.py         # å†…å®¹ç®¡ç†æ ¸å¿ƒæ¨¡å—ï¼ˆ405è¡Œï¼‰
â”‚   â”œâ”€â”€ LogReader             # æ—¥å¿—è¯»å–å’Œç®¡ç†
â”‚   â”œâ”€â”€ BattleStateManager    # æˆ˜æ–—çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ CharacterConfigManager # è§’è‰²é…ç½®ç®¡ç†
â”œâ”€â”€ content_editor.py          # å‘½ä»¤è¡Œå·¥å…·ï¼ˆ355è¡Œï¼‰
â”œâ”€â”€ simulator.py               # å¢å¼ºçš„æˆ˜æ–—æ¨¡æ‹Ÿå™¨
â”œâ”€â”€ test_content_manager.py    # æµ‹è¯•è„šæœ¬
â”œâ”€â”€ content_examples.py        # ç¤ºä¾‹è„šæœ¬
â””â”€â”€ CONTENT_MANAGEMENT_GUIDE.md # ä½¿ç”¨æŒ‡å—
```

### å…³é”®ç‰¹æ€§

#### 1. è‡ªåŠ¨å¤‡ä»½æœºåˆ¶ ğŸ”’
æ‰€æœ‰ä¿®æ”¹æ“ä½œéƒ½ä¼šè‡ªåŠ¨åˆ›å»ºæ—¶é—´æˆ³å¤‡ä»½ï¼š
- `character_config.backup_20260104_100750.json`
- `game_log_YYYY-MM-DD.txt.backup_YYYYMMDD_HHMMSS`
- `battle_*.backup_YYYYMMDD_HHMMSS.json`

#### 2. çµæ´»çš„è¿‡æ»¤ç³»ç»Ÿ ğŸ”
```python
# æŒ‰ç±»å‹è¿‡æ»¤
reader.filter_logs(filename, log_type="ERROR")

# æŒ‰å…³é”®è¯è¿‡æ»¤
reader.filter_logs(filename, keyword="defeated")

# æŒ‰æ—¶é—´èŒƒå›´è¿‡æ»¤
reader.filter_logs(filename, 
    start_time="2025/12/30-21:00:00",
    end_time="2025/12/30-22:00:00")
```

#### 3. æ‰¹é‡æ“ä½œæ”¯æŒ âš¡
```python
# æ‰¹é‡ä¿®æ”¹å¤šä¸ªè§’è‰²
modifications = {
    '0002': {'attack_power': 15},
    '0003': {'attack_power': 18},
    '0004': {'attack_power': 25}
}
count = manager.batch_modify(modifications)
```

#### 4. Python API + CLI ğŸ› ï¸
ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š
- **Python API**: ç›´æ¥åœ¨ä»£ç ä¸­è°ƒç”¨
- **CLIå·¥å…·**: å‘½ä»¤è¡Œæ“ä½œï¼Œé€‚åˆæ‰‹åŠ¨ç®¡ç†

## å®‰å…¨æ€§

### é€šè¿‡çš„æ£€æŸ¥
- âœ… **Code Review**: æ— é—®é¢˜
- âœ… **CodeQL å®‰å…¨æ‰«æ**: æ— æ¼æ´
- âœ… **å¤‡ä»½æœºåˆ¶**: é˜²æ­¢æ•°æ®ä¸¢å¤±
- âœ… **åˆ é™¤ä¿æŠ¤**: é‡å‘½åè€ŒéçœŸåˆ é™¤

### å®‰å…¨ç‰¹æ€§
1. æ‰€æœ‰ä¿®æ”¹è‡ªåŠ¨å¤‡ä»½
2. åˆ é™¤æ“ä½œå®é™…ä¸Šæ˜¯é‡å‘½å
3. ä½¿ç”¨JSONæ ¼å¼ï¼Œæ— SQLæ³¨å…¥é£é™©
4. è·¯å¾„éªŒè¯ï¼Œé˜²æ­¢ç›®å½•éå†

## æµ‹è¯•ç»“æœ

### åŠŸèƒ½æµ‹è¯• âœ…
```
============================================================
æµ‹è¯•æ—¥å¿—è¯»å–å™¨ (Testing Log Reader)
============================================================
âœ“ æ‰¾åˆ° 1 ä¸ªæ—¥å¿—æ–‡ä»¶
âœ“ è¯»å–æ—¥å¿—: game_log_2025-12-30.txt
âœ“ æ‰¾åˆ° 31 æ¡åŒ…å« 'defeated' çš„æ—¥å¿—
æ—¥å¿—è¯»å–å™¨æµ‹è¯•å®Œæˆ âœ“

============================================================
æµ‹è¯•è§’è‰²é…ç½®ç®¡ç†å™¨ (Testing Character Manager)
============================================================
âœ“ æ‰¾åˆ° 10 ä¸ªè§’è‰²é…ç½®
âœ“ è§’è‰² 0001: wooden_man
è§’è‰²é…ç½®ç®¡ç†å™¨æµ‹è¯•å®Œæˆ âœ“

============================================================
æµ‹è¯•æˆ˜æ–—çŠ¶æ€ç®¡ç†å™¨ (Testing Battle Manager)
============================================================
âœ“ åˆ›å»ºæµ‹è¯•æˆ˜æ–—çŠ¶æ€
âœ“ ä¿å­˜åˆ°: battle_test_20260104_101249.json
âœ“ æ‰¾åˆ° 1 ä¸ªæˆ˜æ–—çŠ¶æ€æ–‡ä»¶
âœ“ æˆåŠŸåŠ è½½æˆ˜æ–—çŠ¶æ€
æˆ˜æ–—çŠ¶æ€ç®¡ç†å™¨æµ‹è¯•å®Œæˆ âœ“
```

### CLI æµ‹è¯• âœ…
- âœ… æ—¥å¿—åˆ—è¡¨ã€æŸ¥çœ‹ã€è¿‡æ»¤ã€ä¿®æ”¹
- âœ… è§’è‰²åˆ—è¡¨ã€æŸ¥çœ‹ã€ä¿®æ”¹ã€æ·»åŠ ã€åˆ é™¤
- âœ… æˆ˜æ–—åˆ—è¡¨ã€æŸ¥çœ‹
- âœ… å¸®åŠ©æ–‡æ¡£æ­£å¸¸æ˜¾ç¤º

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: è°ƒæ•´æ¸¸æˆå¹³è¡¡
```bash
# å‘ç°æŸä¸ªè§’è‰²å¤ªå¼ºï¼Œéœ€è¦å‰Šå¼±
python content_editor.py character view 0004
# çœ‹åˆ°æ”»å‡»åŠ›æ˜¯10ï¼Œå¤ªé«˜äº†
python content_editor.py character modify 0004 --attack 8
```

### åœºæ™¯2: åˆ†ææˆ˜æ–—æ—¥å¿—
```bash
# æŸ¥çœ‹æ‰€æœ‰å‡»è´¥äº‹ä»¶
python content_editor.py logs view game_log_2025-12-30.txt --keyword "defeated"

# æŸ¥æ‰¾ç‰¹å®šå›åˆ
python content_editor.py logs view game_log_2025-12-30.txt --keyword "Round 3"
```

### åœºæ™¯3: æˆ˜æ–—å›æ”¾å’Œåˆ†æ
```python
from content_manager import BattleStateManager

manager = BattleStateManager()
# åŠ è½½å†å²æˆ˜æ–—
battle = manager.load_battle_state("battle_epic_20260104.json")
# åˆ†ææˆ˜æ–—æ•°æ®
print(f"æˆ˜æ–—æŒç»­äº† {battle['rounds']} å›åˆ")
```

### åœºæ™¯4: æ‰¹é‡è°ƒæ•´éš¾åº¦
```python
from content_manager import CharacterConfigManager

manager = CharacterConfigManager()
# ç®€å•æ¨¡å¼ï¼šæ‰€æœ‰æ•Œäººç”Ÿå‘½å€¼å‡åŠ
modifications = {
    '0003': {'health_points': 6},
    '0004': {'health_points': 2},
    '0005': {'health_points': 4}
}
manager.batch_modify(modifications)
```

## æ–‡æ¡£

### æä¾›çš„æ–‡æ¡£
1. **CONTENT_MANAGEMENT_GUIDE.md** - å®Œæ•´ä½¿ç”¨æŒ‡å—
2. **README.md** - æ›´æ–°äº†åŠŸèƒ½è¯´æ˜
3. **test_content_manager.py** - æµ‹è¯•ä»£ç å³æ–‡æ¡£
4. **content_examples.py** - å®é™…ä½¿ç”¨ç¤ºä¾‹

### å‘½ä»¤è¡Œå¸®åŠ©
```bash
python content_editor.py --help
python content_editor.py logs --help
python content_editor.py character --help
python content_editor.py battle --help
```

## æ€»ç»“

### é—®é¢˜è§£ç­”
**é—®: æ™ºèƒ½ä½“ä»»åŠ¡èƒ½å¦è®©å…¶ä¿®æ”¹å·²ç”Ÿæˆçš„å†…å®¹ï¼Ÿ**

**ç­”: âœ… å¯ä»¥ï¼**

æˆ‘ä»¬å®ç°äº†å®Œæ•´çš„å†…å®¹ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒï¼š
- âœ… ä¿®æ”¹æˆ˜æ–—æ—¥å¿—
- âœ… ä¿®æ”¹è§’è‰²é…ç½®
- âœ… ä¿®æ”¹æˆ˜æ–—çŠ¶æ€
- âœ… æ‰¹é‡æ“ä½œ
- âœ… è‡ªåŠ¨å¤‡ä»½
- âœ… Python API + CLI

### æŠ€æœ¯äº®ç‚¹
1. **å®Œæ•´æ€§**: è¦†ç›–æ‰€æœ‰ç±»å‹çš„ç”Ÿæˆå†…å®¹
2. **å®‰å…¨æ€§**: è‡ªåŠ¨å¤‡ä»½ï¼Œé€šè¿‡å®‰å…¨æ£€æŸ¥
3. **æ˜“ç”¨æ€§**: CLI + APIï¼Œæ–‡æ¡£é½å…¨
4. **å¯æ‰©å±•**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•

### ä»£ç è´¨é‡
- âœ… 760è¡Œé«˜è´¨é‡ä»£ç 
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†
- âœ… è¯¦ç»†çš„æ–‡æ¡£å­—ç¬¦ä¸²
- âœ… é€šè¿‡ä»£ç å®¡æŸ¥
- âœ… æ— å®‰å…¨æ¼æ´

### å½±å“
è¿™ä¸ªåŠŸèƒ½ä½¿å¾—ï¼š
1. å¼€å‘è€…å¯ä»¥è½»æ¾è°ƒæ•´æ¸¸æˆå¹³è¡¡
2. ç©å®¶æ•°æ®å¯ä»¥å®‰å…¨ä¿®æ”¹
3. æˆ˜æ–—å¯ä»¥å›æ”¾å’Œåˆ†æ
4. æ—¥å¿—å¯ä»¥æ¸…ç†å’Œæ•´ç†
5. å†…å®¹ç”Ÿæˆå˜å¾—å¯æ§å’Œå¯è¿½æº¯

---

**å®æ–½è€…**: GitHub Copilot  
**å®Œæˆæ—¶é—´**: 2026-01-04  
**çŠ¶æ€**: âœ… å®Œæˆå¹¶é€šè¿‡æ‰€æœ‰æ£€æŸ¥
